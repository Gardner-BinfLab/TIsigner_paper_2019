<?php	require_once "Controllers/CodonOpt_Controller_Ancestor_User_Job.php";	if (! isset($myController) ) {		//If there is no current controller		header( "Location: ".CodonOpt_Controller_Ancestor_User_Job::getSubmitNewJobPage() );		exit;							//Redirect back to submit new job	} else {		if (! $myController->isInputSeqNucelotide() ) {		//If NOT to show comparison			header( "Location: ".CodonOpt_Controller_Ancestor_User_Job::getSubmitNewJobPage() );			exit;							//Redirect back to submit new job					}	}?><h3>Query/Optimized Nucleotide Comparison</h3> <span class="ShowIfJavaScript">	<a href='#' id='query_optimized_nucleotide_comparison_holder-show' class='showLink' onclick='showHide("query_optimized_nucleotide_comparison_holder");return false;'>Show Comparison.</a></span><div id="query_optimized_nucleotide_comparison_holder" class="HideIfJavaScript">	<span class="ShowIfJavaScript">		<a href='#' class='hideLink' onclick='showHide("query_optimized_nucleotide_comparison_holder");return false;'>Hide Comparison.</a>	</span>	<ul>		<li>This comparison is only performed for nucleotide input sequence.</li>		<li><span style="color:rgb(0,0,255)">#</span> are Transversions</li>		<li><span style="color:rgb(255,0,0)">*</span> are Transistions</li>	</ul>	<table class="lucida">		<tr>			<td><b>Number:</b></td>			<td><b>1</b>&nbsp;&nbsp;</td> <td>&nbsp;</td>			<td><b>2</b>&nbsp;&nbsp;</td> <td>&nbsp;</td>			<td><b>3</b>&nbsp;&nbsp;</td> <td>&nbsp;</td>			<td><b>4</b>&nbsp;&nbsp;</td> <td>&nbsp;</td>			<td><b>5</b>&nbsp;&nbsp;</td> <td>&nbsp;</td>			<td><b>6</b>&nbsp;&nbsp;</td> <td>&nbsp;</td>			<td><b>7</b>&nbsp;&nbsp;</td> <td>&nbsp;</td>			<td><b>8</b>&nbsp;&nbsp;</td> <td>&nbsp;</td>			<td><b>9</b>&nbsp;&nbsp;</td> <td>&nbsp;</td>			<td><b>10</b></td> <td></td>		</tr>		<?php 			{	//Pre-Generate Colored Codon Distribution				$ProteinArray = str_split(		//Split into Protein					$myController->getOutputAsProtein(),1				);				$InCodonArray = str_split(		//Split into codons					$myController->getInputSequence(),3				);							$OutCodonArray = str_split(		//Split into codons					$myController->getOutputNucleotide(),3				);								//Arrays to store rows				$ProteinRow = array("");				$InCodonRow = array("");				$LinkerRow = array("");				$OutCodonRow = array("");								{	//Sort Cells into Rows					$CellCounter = 0;					$RowCounter = 0;					$MaxSize = count($ProteinArray);					for ($CellCount=0; $CellCount<$MaxSize; $CellCount++) {						//Generate Linker						$Linker = $myController::generateInOutNucleotideComparisonLinker($InCodonArray[$CellCount],$OutCodonArray[$CellCount]);						$Linker = str_ireplace("#","<span style='color:rgb(0,0,255)'>#</span>",$Linker);						$Linker = str_ireplace("*","<span style='color:rgb(255,0,0)'>*</span>",$Linker);												//Define Rows to prevent warnings						$ProteinRow[$RowCounter] .= "<td>".$ProteinArray[$CellCount]."</td><td></td>";						$InCodonRow[$RowCounter] .= "<td>".$InCodonArray[$CellCount]."</td><td></td>";						$LinkerRow[$RowCounter] .= "<td>".$Linker."</td><td></td>";						$OutCodonRow[$RowCounter] .= "<td>".$OutCodonArray[$CellCount]."</td><td></td>";						$CellCounter++;				//Add to cell counter						if ($CellCounter == 10) {	//If this is last cell							$RowCounter++;			//Go to next row							$CellCounter = 0;		//Reset Cell counter							$ProteinRow[$RowCounter] = "";							$InCodonRow[$RowCounter] = "";							$LinkerRow[$RowCounter] = "";							$OutCodonRow[$RowCounter] = "";						}					}				}				{	//Go through Each Row and convert into table					$MaxSize = count($ProteinRow);					for ($RowCount=0; $RowCount<$MaxSize; $RowCount++) {						echo "<tr>";	//open row						echo "<td>".(($RowCount*10)+1)."</td>";	//Cell Number						echo $ProteinRow[$RowCount];						echo "</tr>";	//close row						echo "<tr>";	//open row						echo "<td>Query</td>";	//Label						echo $InCodonRow[$RowCount];						echo "</tr>";	//close row						echo "<tr>";	//open row						echo "<td></td>";						echo $LinkerRow[$RowCount];						echo "</tr>";	//close row						echo "<tr>";	//open row						echo "<td>Optimized&nbsp;</td>";						echo $OutCodonRow[$RowCount];						echo "</tr>";	//close row								echo "<tr><td>&nbsp;</td><tr>";	//End of Row spacer					}				}			}		?>	</table>	<span class="ShowIfJavaScript">		<a href='#' class='hideLink' onclick='showHide("query_optimized_nucleotide_comparison_holder");return false;'>Hide Comparison.</a>	</span>	</div><br/><br/>